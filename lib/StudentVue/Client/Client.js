(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../utils/soap/soap", "../Message/Message"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../utils/soap/soap"), require("../Message/Message"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.soap, global.Message);
    global.Client = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _soap, _Message) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  _soap = _interopRequireDefault(_soap);
  _Message = _interopRequireDefault(_Message);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  class Client extends _soap.default.Client {
    constructor(credentials, hostUrl) {
      super(credentials);
      this.hostUrl = hostUrl;
    }

    messages() {
      return new Promise(async (res, rej) => {
        try {
          const xmlObject = await super.processRequest({
            methodName: 'GetPXPMessages',
            paramStr: {
              childIntId: 0
            }
          });
          var _a = xmlObject.PXPMessagesData[0].MessageListings[0].MessageListing;

          var _f = message => {
            return new _Message.default(message, super.credentials, this.hostUrl);
          };

          var _r = [];

          for (var _i = 0; _i < _a.length; _i++) {
            _r.push(_f(_a[_i], _i, _a));
          }

          res(_r);
        } catch (e) {
          rej(e);
        }
      });
    }

    studentInfo() {
      return new Promise(async (res, rej) => {
        try {
          const xmlObjectData = await super.processRequest({
            methodName: 'StudentInfo',
            paramStr: {
              childIntId: 0
            }
          });
          var _a2 = xmlObjectData.StudentInfo[0].Address[0].EmergencyContacts[0].EmergencyContact;

          var _f2 = contact => {
            return {
              name: contact['@_Name'][0],
              phone: {
                home: contact['@_HomePhone'][0],
                mobile: contact['@_MobilePhone'][0],
                other: contact['@_OtherPhone'][0],
                work: contact['@_WorkPhone'][0]
              },
              relationship: contact['@_Relationship'][0]
            };
          };

          var _r2 = [];

          for (var _i2 = 0; _i2 < _a2.length; _i2++) {
            _r2.push(_f2(_a2[_i2], _i2, _a2));
          }

          var _a3 = xmlObjectData.StudentInfo[0].Address[0].UserDefinedGroupBoxes[0].UserDefinedGroupBox;

          var _f3 = definedBox => {
            var _a4 = definedBox.UserDefinedItems[0].UserDefinedItem;

            var _f4 = item => {
              return {
                source: {
                  element: item['@_SourceElement'][0],
                  object: item['@_SourceObject'][0]
                },
                vcId: item['@_VCID'][0],
                value: item['@_Value'][0],
                type: item['@_ItemType'][0]
              };
            };

            var _r4 = [];

            for (var _i4 = 0; _i4 < _a4.length; _i4++) {
              _r4.push(_f4(_a4[_i4], _i4, _a4));
            }

            return {
              id: definedBox['@_GroupBoxID'][0],
              type: definedBox['@_GroupBoxLabel'][0],
              vcId: definedBox['@_VCID'][0],
              items: _r4
            };
          };

          var _r3 = [];

          for (var _i3 = 0; _i3 < _a3.length; _i3++) {
            _r3.push(_f3(_a3[_i3], _i3, _a3));
          }

          res({
            student: {
              name: xmlObjectData.StudentInfo[0].FormattedName[0],
              lastName: xmlObjectData.StudentInfo[0].Address[0].LastNameGoesBy[0],
              nickname: xmlObjectData.StudentInfo[0].Address[0].NickName[0]
            },
            birthDate: xmlObjectData.StudentInfo[0].Address[0].BirthDate[0],
            track: xmlObjectData.StudentInfo[0].Address[0].Track[0],
            address: xmlObjectData.StudentInfo[0].Address[0].br[0],
            counselor: {
              name: xmlObjectData.StudentInfo[0].Address[0].CounselorName[0],
              email: xmlObjectData.StudentInfo[0].Address[0].CounselorEmail[0],
              staffGu: xmlObjectData.StudentInfo[0].Address[0].CounselorStaffGU[0]
            },
            currentSchool: xmlObjectData.StudentInfo[0].Address[0].CurrentSchool[0],
            dentist: {
              name: xmlObjectData.StudentInfo[0].Address[0].Dentist[0]['@_Name'][0],
              phone: xmlObjectData.StudentInfo[0].Address[0].Dentist[0]['@_Phone'][0],
              extn: xmlObjectData.StudentInfo[0].Address[0].Dentist[0]['@_Extn'][0],
              office: xmlObjectData.StudentInfo[0].Address[0].Dentist[0]['@_Office'][0]
            },
            physician: {
              name: xmlObjectData.StudentInfo[0].Address[0].Physician[0]['@_Name'][0],
              phone: xmlObjectData.StudentInfo[0].Address[0].Physician[0]['@_Phone'][0],
              extn: xmlObjectData.StudentInfo[0].Address[0].Physician[0]['@_Extn'][0],
              hospital: xmlObjectData.StudentInfo[0].Address[0].Physician[0]['@_Hospital'][0]
            },
            email: xmlObjectData.StudentInfo[0].Address[0].EMail[0],
            emergencyContacts: _r2,
            gender: xmlObjectData.StudentInfo[0].Gender[0],
            grade: xmlObjectData.StudentInfo[0].Grade[0],
            lockerInfoRecords: xmlObjectData.StudentInfo[0].LockerInfoRecords[0],
            homeLanguage: xmlObjectData.StudentInfo[0].Address[0].HomeLanguage[0],
            homeRoom: xmlObjectData.StudentInfo[0].Address[0].HomeRoom[0],
            homeRoomTeacher: {
              email: xmlObjectData.StudentInfo[0].Address[0].HomeRoomTchEMail[0],
              name: xmlObjectData.StudentInfo[0].Address[0].HomeRoomTch[0],
              staffGu: xmlObjectData.StudentInfo[0].Address[0].HomeRoomTchStaffGU[0]
            },
            additionalInfo: _r3
          });
        } catch (e) {
          rej(e);
        }
      });
    }

  }

  _exports.default = Client;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9TdHVkZW50VnVlL0NsaWVudC9DbGllbnQudHMiXSwibmFtZXMiOlsiQ2xpZW50Iiwic29hcCIsImNvbnN0cnVjdG9yIiwiY3JlZGVudGlhbHMiLCJob3N0VXJsIiwibWVzc2FnZXMiLCJQcm9taXNlIiwicmVzIiwicmVqIiwieG1sT2JqZWN0IiwicHJvY2Vzc1JlcXVlc3QiLCJtZXRob2ROYW1lIiwicGFyYW1TdHIiLCJjaGlsZEludElkIiwiUFhQTWVzc2FnZXNEYXRhIiwiTWVzc2FnZUxpc3RpbmdzIiwiTWVzc2FnZUxpc3RpbmciLCJtZXNzYWdlIiwiTWVzc2FnZSIsImUiLCJzdHVkZW50SW5mbyIsInhtbE9iamVjdERhdGEiLCJTdHVkZW50SW5mbyIsIkFkZHJlc3MiLCJFbWVyZ2VuY3lDb250YWN0cyIsIkVtZXJnZW5jeUNvbnRhY3QiLCJjb250YWN0IiwibmFtZSIsInBob25lIiwiaG9tZSIsIm1vYmlsZSIsIm90aGVyIiwid29yayIsInJlbGF0aW9uc2hpcCIsIlVzZXJEZWZpbmVkR3JvdXBCb3hlcyIsIlVzZXJEZWZpbmVkR3JvdXBCb3giLCJkZWZpbmVkQm94IiwiVXNlckRlZmluZWRJdGVtcyIsIlVzZXJEZWZpbmVkSXRlbSIsIml0ZW0iLCJzb3VyY2UiLCJlbGVtZW50Iiwib2JqZWN0IiwidmNJZCIsInZhbHVlIiwidHlwZSIsImlkIiwiaXRlbXMiLCJzdHVkZW50IiwiRm9ybWF0dGVkTmFtZSIsImxhc3ROYW1lIiwiTGFzdE5hbWVHb2VzQnkiLCJuaWNrbmFtZSIsIk5pY2tOYW1lIiwiYmlydGhEYXRlIiwiQmlydGhEYXRlIiwidHJhY2siLCJUcmFjayIsImFkZHJlc3MiLCJiciIsImNvdW5zZWxvciIsIkNvdW5zZWxvck5hbWUiLCJlbWFpbCIsIkNvdW5zZWxvckVtYWlsIiwic3RhZmZHdSIsIkNvdW5zZWxvclN0YWZmR1UiLCJjdXJyZW50U2Nob29sIiwiQ3VycmVudFNjaG9vbCIsImRlbnRpc3QiLCJEZW50aXN0IiwiZXh0biIsIm9mZmljZSIsInBoeXNpY2lhbiIsIlBoeXNpY2lhbiIsImhvc3BpdGFsIiwiRU1haWwiLCJlbWVyZ2VuY3lDb250YWN0cyIsImdlbmRlciIsIkdlbmRlciIsImdyYWRlIiwiR3JhZGUiLCJsb2NrZXJJbmZvUmVjb3JkcyIsIkxvY2tlckluZm9SZWNvcmRzIiwiaG9tZUxhbmd1YWdlIiwiSG9tZUxhbmd1YWdlIiwiaG9tZVJvb20iLCJIb21lUm9vbSIsImhvbWVSb29tVGVhY2hlciIsIkhvbWVSb29tVGNoRU1haWwiLCJIb21lUm9vbVRjaCIsIkhvbWVSb29tVGNoU3RhZmZHVSIsImFkZGl0aW9uYWxJbmZvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPZSxRQUFNQSxNQUFOLFNBQXFCQyxjQUFLRCxNQUExQixDQUFpQztBQUU5Q0UsSUFBQUEsV0FBVyxDQUFDQyxXQUFELEVBQWdDQyxPQUFoQyxFQUFpRDtBQUMxRCxZQUFNRCxXQUFOO0FBQ0EsV0FBS0MsT0FBTCxHQUFlQSxPQUFmO0FBQ0Q7O0FBRU1DLElBQUFBLFFBQVEsR0FBdUI7QUFDcEMsYUFBTyxJQUFJQyxPQUFKLENBQVksT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3JDLFlBQUk7QUFDRixnQkFBTUMsU0FBMkIsR0FBRyxNQUFNLE1BQU1DLGNBQU4sQ0FBcUI7QUFDN0RDLFlBQUFBLFVBQVUsRUFBRSxnQkFEaUQ7QUFFN0RDLFlBQUFBLFFBQVEsRUFBRTtBQUFFQyxjQUFBQSxVQUFVLEVBQUU7QUFBZDtBQUZtRCxXQUFyQixDQUExQztBQURFLG1CQU1BSixTQUFTLENBQUNLLGVBQVYsQ0FBMEIsQ0FBMUIsRUFBNkJDLGVBQTdCLENBQTZDLENBQTdDLEVBQWdEQyxjQU5oRDs7QUFBQSxtQkFPR0MsT0FBRDtBQUFBLG1CQUFhLElBQUlDLGdCQUFKLENBQVlELE9BQVosRUFBcUIsTUFBTWQsV0FBM0IsRUFBd0MsS0FBS0MsT0FBN0MsQ0FBYjtBQUFBLFdBUEY7O0FBQUE7O0FBQUE7QUFB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LENBQXFELENBQXJELENBM0NaO0FBNENGQyxZQUFBQSxRQUFRLEVBQUVoRSxhQUFhLENBQUNDLFdBQWQsQ0FBMEIsQ0FBMUIsRUFBNkJDLE9BQTdCLENBQXFDLENBQXJDLEVBQXdDK0QsUUFBeEMsQ0FBaUQsQ0FBakQsQ0E1Q1I7QUE2Q0ZDLFlBQUFBLGVBQWUsRUFBRTtBQUNmekIsY0FBQUEsS0FBSyxFQUFFekMsYUFBYSxDQUFDQyxXQUFkLENBQTBCLENBQTFCLEVBQTZCQyxPQUE3QixDQUFxQyxDQUFyQyxFQUF3Q2lFLGdCQUF4QyxDQUF5RCxDQUF6RCxDQURRO0FBRWY3RCxjQUFBQSxJQUFJLEVBQUVOLGFBQWEsQ0FBQ0MsV0FBZCxDQUEwQixDQUExQixFQUE2QkMsT0FBN0IsQ0FBcUMsQ0FBckMsRUFBd0NrRSxXQUF4QyxDQUFvRCxDQUFwRCxDQUZTO0FBR2Z6QixjQUFBQSxPQUFPLEVBQUUzQyxhQUFhLENBQUNDLFdBQWQsQ0FBMEIsQ0FBMUIsRUFBNkJDLE9BQTdCLENBQXFDLENBQXJDLEVBQXdDbUUsa0JBQXhDLENBQTJELENBQTNEO0FBSE0sYUE3Q2Y7QUFrREZDLFlBQUFBLGNBQWM7QUFsRFosV0FBRCxDQUFIO0FBbUVELFNBekVELENBeUVFLE9BQU94RSxDQUFQLEVBQVU7QUFDVlgsVUFBQUEsR0FBRyxDQUFDVyxDQUFELENBQUg7QUFDRDtBQUNGLE9BN0VNLENBQVA7QUE4RUQ7O0FBeEc2QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2luQ3JlZGVudGlhbHMgfSBmcm9tICcuLi8uLi91dGlscy9zb2FwL0NsaWVudC9DbGllbnQuaW50ZXJmYWNlcyc7XHJcbmltcG9ydCBzb2FwIGZyb20gJy4uLy4uL3V0aWxzL3NvYXAvc29hcCc7XHJcbmltcG9ydCB7IEFkZGl0aW9uYWxJbmZvLCBBZGRpdGlvbmFsSW5mb0l0ZW0sIFN0dWRlbnRJbmZvIH0gZnJvbSAnLi9DbGllbnQuaW50ZXJmYWNlcyc7XHJcbmltcG9ydCB7IFN0dWRlbnRJbmZvWE1MT2JqZWN0IH0gZnJvbSAnLi9JbnRlcmZhY2VzL3htbC9TdHVkZW50SW5mbyc7XHJcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4uL01lc3NhZ2UvTWVzc2FnZSc7XHJcbmltcG9ydCB7IE1lc3NhZ2VYTUxPYmplY3QgfSBmcm9tICcuLi9NZXNzYWdlL01lc3NhZ2UueG1sJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWVudCBleHRlbmRzIHNvYXAuQ2xpZW50IHtcclxuICBwcml2YXRlIGhvc3RVcmw6IHN0cmluZztcclxuICBjb25zdHJ1Y3RvcihjcmVkZW50aWFsczogTG9naW5DcmVkZW50aWFscywgaG9zdFVybDogc3RyaW5nKSB7XHJcbiAgICBzdXBlcihjcmVkZW50aWFscyk7XHJcbiAgICB0aGlzLmhvc3RVcmwgPSBob3N0VXJsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG1lc3NhZ2VzKCk6IFByb21pc2U8TWVzc2FnZVtdPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeG1sT2JqZWN0OiBNZXNzYWdlWE1MT2JqZWN0ID0gYXdhaXQgc3VwZXIucHJvY2Vzc1JlcXVlc3Qoe1xyXG4gICAgICAgICAgbWV0aG9kTmFtZTogJ0dldFBYUE1lc3NhZ2VzJyxcclxuICAgICAgICAgIHBhcmFtU3RyOiB7IGNoaWxkSW50SWQ6IDAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXMoXHJcbiAgICAgICAgICB4bWxPYmplY3QuUFhQTWVzc2FnZXNEYXRhWzBdLk1lc3NhZ2VMaXN0aW5nc1swXS5NZXNzYWdlTGlzdGluZy5tYXAoXHJcbiAgICAgICAgICAgIChtZXNzYWdlKSA9PiBuZXcgTWVzc2FnZShtZXNzYWdlLCBzdXBlci5jcmVkZW50aWFscywgdGhpcy5ob3N0VXJsKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZWooZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0dWRlbnRJbmZvKCk6IFByb21pc2U8U3R1ZGVudEluZm8+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxTdHVkZW50SW5mbz4oYXN5bmMgKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeG1sT2JqZWN0RGF0YTogU3R1ZGVudEluZm9YTUxPYmplY3QgPSBhd2FpdCBzdXBlci5wcm9jZXNzUmVxdWVzdCh7XHJcbiAgICAgICAgICBtZXRob2ROYW1lOiAnU3R1ZGVudEluZm8nLFxyXG4gICAgICAgICAgcGFyYW1TdHI6IHsgY2hpbGRJbnRJZDogMCB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXMoe1xyXG4gICAgICAgICAgc3R1ZGVudDoge1xyXG4gICAgICAgICAgICBuYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkZvcm1hdHRlZE5hbWVbMF0sXHJcbiAgICAgICAgICAgIGxhc3ROYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uTGFzdE5hbWVHb2VzQnlbMF0sXHJcbiAgICAgICAgICAgIG5pY2tuYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uTmlja05hbWVbMF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYmlydGhEYXRlOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uQmlydGhEYXRlWzBdLFxyXG4gICAgICAgICAgdHJhY2s6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5UcmFja1swXSxcclxuICAgICAgICAgIGFkZHJlc3M6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5iclswXSxcclxuICAgICAgICAgIGNvdW5zZWxvcjoge1xyXG4gICAgICAgICAgICBuYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uQ291bnNlbG9yTmFtZVswXSxcclxuICAgICAgICAgICAgZW1haWw6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5Db3Vuc2Vsb3JFbWFpbFswXSxcclxuICAgICAgICAgICAgc3RhZmZHdTogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLkNvdW5zZWxvclN0YWZmR1VbMF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY3VycmVudFNjaG9vbDogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLkN1cnJlbnRTY2hvb2xbMF0sXHJcbiAgICAgICAgICBkZW50aXN0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5EZW50aXN0WzBdWydAX05hbWUnXVswXSxcclxuICAgICAgICAgICAgcGhvbmU6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5EZW50aXN0WzBdWydAX1Bob25lJ11bMF0sXHJcbiAgICAgICAgICAgIGV4dG46IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5EZW50aXN0WzBdWydAX0V4dG4nXVswXSxcclxuICAgICAgICAgICAgb2ZmaWNlOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uRGVudGlzdFswXVsnQF9PZmZpY2UnXVswXSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwaHlzaWNpYW46IHtcclxuICAgICAgICAgICAgbmFtZTogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLlBoeXNpY2lhblswXVsnQF9OYW1lJ11bMF0sXHJcbiAgICAgICAgICAgIHBob25lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uUGh5c2ljaWFuWzBdWydAX1Bob25lJ11bMF0sXHJcbiAgICAgICAgICAgIGV4dG46IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5QaHlzaWNpYW5bMF1bJ0BfRXh0biddWzBdLFxyXG4gICAgICAgICAgICBob3NwaXRhbDogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLlBoeXNpY2lhblswXVsnQF9Ib3NwaXRhbCddWzBdLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGVtYWlsOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uRU1haWxbMF0sXHJcbiAgICAgICAgICBlbWVyZ2VuY3lDb250YWN0czogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLkVtZXJnZW5jeUNvbnRhY3RzWzBdLkVtZXJnZW5jeUNvbnRhY3QubWFwKFxyXG4gICAgICAgICAgICAoY29udGFjdCkgPT4gKHtcclxuICAgICAgICAgICAgICBuYW1lOiBjb250YWN0WydAX05hbWUnXVswXSxcclxuICAgICAgICAgICAgICBwaG9uZToge1xyXG4gICAgICAgICAgICAgICAgaG9tZTogY29udGFjdFsnQF9Ib21lUGhvbmUnXVswXSxcclxuICAgICAgICAgICAgICAgIG1vYmlsZTogY29udGFjdFsnQF9Nb2JpbGVQaG9uZSddWzBdLFxyXG4gICAgICAgICAgICAgICAgb3RoZXI6IGNvbnRhY3RbJ0BfT3RoZXJQaG9uZSddWzBdLFxyXG4gICAgICAgICAgICAgICAgd29yazogY29udGFjdFsnQF9Xb3JrUGhvbmUnXVswXSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHJlbGF0aW9uc2hpcDogY29udGFjdFsnQF9SZWxhdGlvbnNoaXAnXVswXSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBnZW5kZXI6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uR2VuZGVyWzBdLFxyXG4gICAgICAgICAgZ3JhZGU6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uR3JhZGVbMF0sXHJcbiAgICAgICAgICBsb2NrZXJJbmZvUmVjb3JkczogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5Mb2NrZXJJbmZvUmVjb3Jkc1swXSxcclxuICAgICAgICAgIGhvbWVMYW5ndWFnZTogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLkhvbWVMYW5ndWFnZVswXSxcclxuICAgICAgICAgIGhvbWVSb29tOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uSG9tZVJvb21bMF0sXHJcbiAgICAgICAgICBob21lUm9vbVRlYWNoZXI6IHtcclxuICAgICAgICAgICAgZW1haWw6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5Ib21lUm9vbVRjaEVNYWlsWzBdLFxyXG4gICAgICAgICAgICBuYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uSG9tZVJvb21UY2hbMF0sXHJcbiAgICAgICAgICAgIHN0YWZmR3U6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5Ib21lUm9vbVRjaFN0YWZmR1VbMF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYWRkaXRpb25hbEluZm86IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5Vc2VyRGVmaW5lZEdyb3VwQm94ZXNbMF0uVXNlckRlZmluZWRHcm91cEJveC5tYXAoXHJcbiAgICAgICAgICAgIChkZWZpbmVkQm94KSA9PiAoe1xyXG4gICAgICAgICAgICAgIGlkOiBkZWZpbmVkQm94WydAX0dyb3VwQm94SUQnXVswXSxcclxuICAgICAgICAgICAgICB0eXBlOiBkZWZpbmVkQm94WydAX0dyb3VwQm94TGFiZWwnXVswXSxcclxuICAgICAgICAgICAgICB2Y0lkOiBkZWZpbmVkQm94WydAX1ZDSUQnXVswXSxcclxuICAgICAgICAgICAgICBpdGVtczogZGVmaW5lZEJveC5Vc2VyRGVmaW5lZEl0ZW1zWzBdLlVzZXJEZWZpbmVkSXRlbS5tYXAoKGl0ZW0pID0+ICh7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudDogaXRlbVsnQF9Tb3VyY2VFbGVtZW50J11bMF0sXHJcbiAgICAgICAgICAgICAgICAgIG9iamVjdDogaXRlbVsnQF9Tb3VyY2VPYmplY3QnXVswXSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2Y0lkOiBpdGVtWydAX1ZDSUQnXVswXSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtWydAX1ZhbHVlJ11bMF0sXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBpdGVtWydAX0l0ZW1UeXBlJ11bMF0sXHJcbiAgICAgICAgICAgICAgfSkpIGFzIEFkZGl0aW9uYWxJbmZvSXRlbVtdLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgKSBhcyBBZGRpdGlvbmFsSW5mb1tdLFxyXG4gICAgICAgIH0gYXMgU3R1ZGVudEluZm8pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmVqKGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl19