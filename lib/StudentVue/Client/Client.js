(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../utils/soap/soap", "../Message/Message", "date-fns", "../../Constants/EventType", "lodash"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../utils/soap/soap"), require("../Message/Message"), require("date-fns"), require("../../Constants/EventType"), require("lodash"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.soap, global.Message, global.dateFns, global.EventType, global.lodash);
    global.Client = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _soap, _Message, _dateFns, _EventType, _lodash) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;
  _soap = _interopRequireDefault(_soap);
  _Message = _interopRequireDefault(_Message);
  _EventType = _interopRequireDefault(_EventType);
  _lodash = _interopRequireDefault(_lodash);

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  class Client extends _soap.default.Client {
    constructor(credentials, hostUrl) {
      super(credentials);
      this.hostUrl = hostUrl;
    }

    messages() {
      return new Promise(async (res, rej) => {
        try {
          const xmlObject = await super.processRequest({
            methodName: 'GetPXPMessages',
            paramStr: {
              childIntId: 0
            }
          });
          var _a = xmlObject.PXPMessagesData[0].MessageListings[0].MessageListing;

          var _f = message => {
            return new _Message.default(message, super.credentials, this.hostUrl);
          };

          var _r = [];

          for (var _i = 0; _i < _a.length; _i++) {
            _r.push(_f(_a[_i], _i, _a));
          }

          res(_r);
        } catch (e) {
          rej(e);
        }
      });
    }

    studentInfo() {
      return new Promise(async (res, rej) => {
        try {
          const xmlObjectData = await super.processRequest({
            methodName: 'StudentInfo',
            paramStr: {
              childIntId: 0
            }
          });
          var _a2 = xmlObjectData.StudentInfo[0].Address[0].EmergencyContacts[0].EmergencyContact;

          var _f2 = contact => {
            return {
              name: contact['@_Name'][0],
              phone: {
                home: contact['@_HomePhone'][0],
                mobile: contact['@_MobilePhone'][0],
                other: contact['@_OtherPhone'][0],
                work: contact['@_WorkPhone'][0]
              },
              relationship: contact['@_Relationship'][0]
            };
          };

          var _r2 = [];

          for (var _i2 = 0; _i2 < _a2.length; _i2++) {
            _r2.push(_f2(_a2[_i2], _i2, _a2));
          }

          var _a3 = xmlObjectData.StudentInfo[0].Address[0].UserDefinedGroupBoxes[0].UserDefinedGroupBox;

          var _f3 = definedBox => {
            var _a4 = definedBox.UserDefinedItems[0].UserDefinedItem;

            var _f4 = item => {
              return {
                source: {
                  element: item['@_SourceElement'][0],
                  object: item['@_SourceObject'][0]
                },
                vcId: item['@_VCID'][0],
                value: item['@_Value'][0],
                type: item['@_ItemType'][0]
              };
            };

            var _r4 = [];

            for (var _i4 = 0; _i4 < _a4.length; _i4++) {
              _r4.push(_f4(_a4[_i4], _i4, _a4));
            }

            return {
              id: definedBox['@_GroupBoxID'][0],
              type: definedBox['@_GroupBoxLabel'][0],
              vcId: definedBox['@_VCID'][0],
              items: _r4
            };
          };

          var _r3 = [];

          for (var _i3 = 0; _i3 < _a3.length; _i3++) {
            _r3.push(_f3(_a3[_i3], _i3, _a3));
          }

          res({
            student: {
              name: xmlObjectData.StudentInfo[0].FormattedName[0],
              lastName: xmlObjectData.StudentInfo[0].Address[0].LastNameGoesBy[0],
              nickname: xmlObjectData.StudentInfo[0].Address[0].NickName[0]
            },
            birthDate: xmlObjectData.StudentInfo[0].Address[0].BirthDate[0],
            track: xmlObjectData.StudentInfo[0].Address[0].Track[0],
            address: xmlObjectData.StudentInfo[0].Address[0].br[0],
            counselor: {
              name: xmlObjectData.StudentInfo[0].Address[0].CounselorName[0],
              email: xmlObjectData.StudentInfo[0].Address[0].CounselorEmail[0],
              staffGu: xmlObjectData.StudentInfo[0].Address[0].CounselorStaffGU[0]
            },
            currentSchool: xmlObjectData.StudentInfo[0].Address[0].CurrentSchool[0],
            dentist: {
              name: xmlObjectData.StudentInfo[0].Address[0].Dentist[0]['@_Name'][0],
              phone: xmlObjectData.StudentInfo[0].Address[0].Dentist[0]['@_Phone'][0],
              extn: xmlObjectData.StudentInfo[0].Address[0].Dentist[0]['@_Extn'][0],
              office: xmlObjectData.StudentInfo[0].Address[0].Dentist[0]['@_Office'][0]
            },
            physician: {
              name: xmlObjectData.StudentInfo[0].Address[0].Physician[0]['@_Name'][0],
              phone: xmlObjectData.StudentInfo[0].Address[0].Physician[0]['@_Phone'][0],
              extn: xmlObjectData.StudentInfo[0].Address[0].Physician[0]['@_Extn'][0],
              hospital: xmlObjectData.StudentInfo[0].Address[0].Physician[0]['@_Hospital'][0]
            },
            email: xmlObjectData.StudentInfo[0].Address[0].EMail[0],
            emergencyContacts: _r2,
            gender: xmlObjectData.StudentInfo[0].Gender[0],
            grade: xmlObjectData.StudentInfo[0].Grade[0],
            lockerInfoRecords: xmlObjectData.StudentInfo[0].LockerInfoRecords[0],
            homeLanguage: xmlObjectData.StudentInfo[0].Address[0].HomeLanguage[0],
            homeRoom: xmlObjectData.StudentInfo[0].Address[0].HomeRoom[0],
            homeRoomTeacher: {
              email: xmlObjectData.StudentInfo[0].Address[0].HomeRoomTchEMail[0],
              name: xmlObjectData.StudentInfo[0].Address[0].HomeRoomTch[0],
              staffGu: xmlObjectData.StudentInfo[0].Address[0].HomeRoomTchStaffGU[0]
            },
            additionalInfo: _r3
          });
        } catch (e) {
          rej(e);
        }
      });
    }

    fetchEventsWithinInterval(date) {
      return super.processRequest({
        methodName: 'StudentCalendar',
        paramStr: {
          childIntId: 0,
          RequestDate: date.toISOString()
        }
      });
    }

    calendar(options = {}) {
      return new Promise(async (res, rej) => {
        try {
          let schoolStartDate;
          let schoolEndDate;
          let referenceEvent = null;

          if (options.interval == null || options.interval.start == null || options.interval.end == null) {
            referenceEvent = await this.fetchEventsWithinInterval(new Date());
            schoolStartDate = options.interval?.start ?? new Date(referenceEvent.CalendarListing[0]['@_SchoolBegDate'][0]);
            schoolEndDate = options.interval?.end ?? new Date(referenceEvent.CalendarListing[0]['@_SchoolEndDate'][0]);
          } else {
            schoolStartDate = options.interval.start;
            schoolEndDate = options.interval.end;
          }

          const monthsWithinSchoolYear = (0, _dateFns.eachMonthOfInterval)({
            start: schoolStartDate,
            end: schoolEndDate
          });
          var _a5 = monthsWithinSchoolYear;

          var _f5 = date => {
            return (0, _dateFns.isThisMonth)(date) && referenceEvent ? Promise.resolve(referenceEvent) : this.fetchEventsWithinInterval(date);
          };

          var _r5 = [];

          for (var _i5 = 0; _i5 < _a5.length; _i5++) {
            _r5.push(_f5(_a5[_i5], _i5, _a5));
          }

          const allEventsWithinSchoolYear = await Promise.all(_r5);
          let memo = null;
          const events = allEventsWithinSchoolYear.reduce((prev, events) => {
            if (memo == null) {
              memo = { ...prev,
                schoolDate: {
                  start: new Date(events.CalendarListing[0]['@_SchoolBegDate'][0]),
                  end: new Date(events.CalendarListing[0]['@_SchoolEndDate'][0])
                },
                outputRange: {
                  start: schoolStartDate,
                  end: schoolEndDate
                }
              };
            }

            var _a6 = events.CalendarListing[0].EventLists[0].EventList;

            var _f6 = event => {
              switch (event['@_DayType'][0]) {
                case _EventType.default.ASSIGNMENT:
                  {
                    const assignmentEvent = event;
                    return {
                      title: assignmentEvent['@_Title'][0],
                      addLinkData: assignmentEvent['@_AddLinkData'][0],
                      agu: assignmentEvent['@_AGU'][0],
                      date: new Date(assignmentEvent['@_Date'][0]),
                      dgu: assignmentEvent['@_DGU'][0],
                      link: assignmentEvent['@_Link'][0],
                      startTime: assignmentEvent['@_StartTime'][0],
                      type: _EventType.default.ASSIGNMENT,
                      viewType: assignmentEvent['@_ViewType'][0]
                    };
                  }

                case _EventType.default.HOLIDAY:
                  {
                    return {
                      title: event['@_Title'][0],
                      type: _EventType.default.HOLIDAY,
                      startTime: event['@_StartTime'][0],
                      date: new Date(event['@_Date'][0])
                    };
                  }

                case _EventType.default.REGULAR:
                  {
                    const regularEvent = event;
                    return {
                      title: regularEvent['@_Title'][0],
                      agu: regularEvent['@_AGU'][0],
                      date: new Date(regularEvent['@_Date'][0]),
                      description: regularEvent['@_EvtDescription'][0],
                      dgu: regularEvent['@_DGU'][0],
                      link: regularEvent['@_Link'][0],
                      startTime: regularEvent['@_StartTime'][0],
                      type: _EventType.default.REGULAR,
                      viewType: regularEvent['@_ViewType'][0],
                      addLinkData: regularEvent['@_AddLinkData'][0]
                    };
                  }
              }
            };

            var _r6 = [];

            for (var _i6 = 0; _i6 < _a6.length; _i6++) {
              _r6.push(_f6(_a6[_i6], _i6, _a6));
            }

            let rest = { ...memo,
              // This is to prevent re-initializing Date objects in order to improve performance
              events: [...prev.events, ..._r6]
            };
            rest = { ...rest,
              events: _lodash.default.uniqBy(rest.events, item => {
                return item.title;
              })
            };
            return rest;
          }, {});
          res(events);
        } catch (e) {
          rej(e);
        }
      });
    }

  }

  _exports.default = Client;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9TdHVkZW50VnVlL0NsaWVudC9DbGllbnQudHMiXSwibmFtZXMiOlsiQ2xpZW50Iiwic29hcCIsImNvbnN0cnVjdG9yIiwiY3JlZGVudGlhbHMiLCJob3N0VXJsIiwibWVzc2FnZXMiLCJQcm9taXNlIiwicmVzIiwicmVqIiwieG1sT2JqZWN0IiwicHJvY2Vzc1JlcXVlc3QiLCJtZXRob2ROYW1lIiwicGFyYW1TdHIiLCJjaGlsZEludElkIiwiUFhQTWVzc2FnZXNEYXRhIiwiTWVzc2FnZUxpc3RpbmdzIiwiTWVzc2FnZUxpc3RpbmciLCJtZXNzYWdlIiwiTWVzc2FnZSIsImUiLCJzdHVkZW50SW5mbyIsInhtbE9iamVjdERhdGEiLCJTdHVkZW50SW5mbyIsIkFkZHJlc3MiLCJFbWVyZ2VuY3lDb250YWN0cyIsIkVtZXJnZW5jeUNvbnRhY3QiLCJjb250YWN0IiwibmFtZSIsInBob25lIiwiaG9tZSIsIm1vYmlsZSIsIm90aGVyIiwid29yayIsInJlbGF0aW9uc2hpcCIsIlVzZXJEZWZpbmVkR3JvdXBCb3hlcyIsIlVzZXJEZWZpbmVkR3JvdXBCb3giLCJkZWZpbmVkQm94IiwiVXNlckRlZmluZWRJdGVtcyIsIlVzZXJEZWZpbmVkSXRlbSIsIml0ZW0iLCJzb3VyY2UiLCJlbGVtZW50Iiwib2JqZWN0IiwidmNJZCIsInZhbHVlIiwidHlwZSIsImlkIiwiaXRlbXMiLCJzdHVkZW50IiwiRm9ybWF0dGVkTmFtZSIsImxhc3ROYW1lIiwiTGFzdE5hbWVHb2VzQnkiLCJuaWNrbmFtZSIsIk5pY2tOYW1lIiwiYmlydGhEYXRlIiwiQmlydGhEYXRlIiwidHJhY2siLCJUcmFjayIsImFkZHJlc3MiLCJiciIsImNvdW5zZWxvciIsIkNvdW5zZWxvck5hbWUiLCJlbWFpbCIsIkNvdW5zZWxvckVtYWlsIiwic3RhZmZHdSIsIkNvdW5zZWxvclN0YWZmR1UiLCJjdXJyZW50U2Nob29sIiwiQ3VycmVudFNjaG9vbCIsImRlbnRpc3QiLCJEZW50aXN0IiwiZXh0biIsIm9mZmljZSIsInBoeXNpY2lhbiIsIlBoeXNpY2lhbiIsImhvc3BpdGFsIiwiRU1haWwiLCJlbWVyZ2VuY3lDb250YWN0cyIsImdlbmRlciIsIkdlbmRlciIsImdyYWRlIiwiR3JhZGUiLCJsb2NrZXJJbmZvUmVjb3JkcyIsIkxvY2tlckluZm9SZWNvcmRzIiwiaG9tZUxhbmd1YWdlIiwiSG9tZUxhbmd1YWdlIiwiaG9tZVJvb20iLCJIb21lUm9vbSIsImhvbWVSb29tVGVhY2hlciIsIkhvbWVSb29tVGNoRU1haWwiLCJIb21lUm9vbVRjaCIsIkhvbWVSb29tVGNoU3RhZmZHVSIsImFkZGl0aW9uYWxJbmZvIiwiZmV0Y2hFdmVudHNXaXRoaW5JbnRlcnZhbCIsImRhdGUiLCJSZXF1ZXN0RGF0ZSIsInRvSVNPU3RyaW5nIiwiY2FsZW5kYXIiLCJvcHRpb25zIiwic2Nob29sU3RhcnREYXRlIiwic2Nob29sRW5kRGF0ZSIsInJlZmVyZW5jZUV2ZW50IiwiaW50ZXJ2YWwiLCJzdGFydCIsImVuZCIsIkRhdGUiLCJDYWxlbmRhckxpc3RpbmciLCJtb250aHNXaXRoaW5TY2hvb2xZZWFyIiwicmVzb2x2ZSIsImFsbEV2ZW50c1dpdGhpblNjaG9vbFllYXIiLCJhbGwiLCJtZW1vIiwiZXZlbnRzIiwicmVkdWNlIiwicHJldiIsInNjaG9vbERhdGUiLCJvdXRwdXRSYW5nZSIsIkV2ZW50TGlzdHMiLCJFdmVudExpc3QiLCJldmVudCIsIkV2ZW50VHlwZSIsIkFTU0lHTk1FTlQiLCJhc3NpZ25tZW50RXZlbnQiLCJ0aXRsZSIsImFkZExpbmtEYXRhIiwiYWd1IiwiZGd1IiwibGluayIsInN0YXJ0VGltZSIsInZpZXdUeXBlIiwiSE9MSURBWSIsIlJFR1VMQVIiLCJyZWd1bGFyRXZlbnQiLCJkZXNjcmlwdGlvbiIsInJlc3QiLCJfIiwidW5pcUJ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWFlLFFBQU1BLE1BQU4sU0FBcUJDLGNBQUtELE1BQTFCLENBQWlDO0FB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RUssWUFBWSxDQUFDLFFBQUQsQ0FBWixDQUF1QixDQUF2QixDQU5EO0FBT0xKLHNCQUFBQSxTQUFTLEVBQUVJLFlBQVksQ0FBQyxhQUFELENBQVosQ0FBNEIsQ0FBNUIsQ0FQTjtBQVFMdEYsc0JBQUFBLElBQUksRUFBRTBFLG1CQUFVVyxPQVJYO0FBU0xGLHNCQUFBQSxRQUFRLEVBQUVHLFlBQVksQ0FBQyxZQUFELENBQVosQ0FBMkIsQ0FBM0IsQ0FUTDtBQVVMUixzQkFBQUEsV0FBVyxFQUFFUSxZQUFZLENBQUMsZUFBRCxDQUFaLENBQThCLENBQTlCO0FBVlIscUJBQVA7QUFZRDtBQXJDSDtBQXVDRCxhQXpEMkQ7O0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQWFoRSxnQkFBSUUsSUFBSSxHQUFHLEVBQ1QsR0FBR3ZCLElBRE07QUFDQTtBQUNUQyxjQUFBQSxNQUFNLEVBQUUsQ0FDTixHQUFHRSxJQUFJLENBQUNGLE1BREYsRUFFTixNQUZNO0FBRkMsYUFBWDtBQWdEQXNCLFlBQUFBLElBQUksR0FBRyxFQUNMLEdBQUdBLElBREU7QUFFTHRCLGNBQUFBLE1BQU0sRUFBRXVCLGdCQUFFQyxNQUFGLENBQWdCRixJQUFJLENBQUN0QixNQUFyQixFQUE4QnhFLElBQUQ7QUFBQSx1QkFBVUEsSUFBSSxDQUFDbUYsS0FBZjtBQUFBLGVBQTdCO0FBRkgsYUFBUDtBQUtBLG1CQUFPVyxJQUFQO0FBQ0QsV0FuRWMsRUFtRVosRUFuRVksQ0FBZjtBQXFFQTlILFVBQUFBLEdBQUcsQ0FBQ3dHLE1BQUQsQ0FBSDtBQUNELFNBN0ZELENBNkZFLE9BQU81RixDQUFQLEVBQVU7QUFDVlgsVUFBQUEsR0FBRyxDQUFDVyxDQUFELENBQUg7QUFDRDtBQUNGLE9BakdNLENBQVA7QUFrR0Q7O0FBcE42QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2luQ3JlZGVudGlhbHMgfSBmcm9tICcuLi8uLi91dGlscy9zb2FwL0NsaWVudC9DbGllbnQuaW50ZXJmYWNlcyc7XHJcbmltcG9ydCBzb2FwIGZyb20gJy4uLy4uL3V0aWxzL3NvYXAvc29hcCc7XHJcbmltcG9ydCB7IEFkZGl0aW9uYWxJbmZvLCBBZGRpdGlvbmFsSW5mb0l0ZW0sIFN0dWRlbnRJbmZvIH0gZnJvbSAnLi9DbGllbnQuaW50ZXJmYWNlcyc7XHJcbmltcG9ydCB7IFN0dWRlbnRJbmZvWE1MT2JqZWN0IH0gZnJvbSAnLi9JbnRlcmZhY2VzL3htbC9TdHVkZW50SW5mbyc7XHJcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4uL01lc3NhZ2UvTWVzc2FnZSc7XHJcbmltcG9ydCB7IE1lc3NhZ2VYTUxPYmplY3QgfSBmcm9tICcuLi9NZXNzYWdlL01lc3NhZ2UueG1sJztcclxuaW1wb3J0IHsgQXNzaWdubWVudEV2ZW50WE1MT2JqZWN0LCBDYWxlbmRhclhNTE9iamVjdCwgUmVndWxhckV2ZW50WE1MT2JqZWN0IH0gZnJvbSAnLi9JbnRlcmZhY2VzL3htbC9DYWxlbmRhcic7XHJcbmltcG9ydCB7IEFzc2lnbm1lbnRFdmVudCwgQ2FsZW5kYXIsIENhbGVuZGFyT3B0aW9ucywgRXZlbnQsIEhvbGlkYXlFdmVudCwgUmVndWxhckV2ZW50IH0gZnJvbSAnLi9JbnRlcmZhY2VzL0NhbGVuZGFyJztcclxuaW1wb3J0IHsgZWFjaE1vbnRoT2ZJbnRlcnZhbCwgaXNUaGlzTW9udGggfSBmcm9tICdkYXRlLWZucyc7XHJcbmltcG9ydCB7IEljb24gfSBmcm9tICcuLi9TdHVkZW50VnVlJztcclxuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi8uLi9Db25zdGFudHMvRXZlbnRUeXBlJztcclxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWVudCBleHRlbmRzIHNvYXAuQ2xpZW50IHtcclxuICBwcml2YXRlIGhvc3RVcmw6IHN0cmluZztcclxuICBjb25zdHJ1Y3RvcihjcmVkZW50aWFsczogTG9naW5DcmVkZW50aWFscywgaG9zdFVybDogc3RyaW5nKSB7XHJcbiAgICBzdXBlcihjcmVkZW50aWFscyk7XHJcbiAgICB0aGlzLmhvc3RVcmwgPSBob3N0VXJsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG1lc3NhZ2VzKCk6IFByb21pc2U8TWVzc2FnZVtdPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeG1sT2JqZWN0OiBNZXNzYWdlWE1MT2JqZWN0ID0gYXdhaXQgc3VwZXIucHJvY2Vzc1JlcXVlc3Qoe1xyXG4gICAgICAgICAgbWV0aG9kTmFtZTogJ0dldFBYUE1lc3NhZ2VzJyxcclxuICAgICAgICAgIHBhcmFtU3RyOiB7IGNoaWxkSW50SWQ6IDAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXMoXHJcbiAgICAgICAgICB4bWxPYmplY3QuUFhQTWVzc2FnZXNEYXRhWzBdLk1lc3NhZ2VMaXN0aW5nc1swXS5NZXNzYWdlTGlzdGluZy5tYXAoXHJcbiAgICAgICAgICAgIChtZXNzYWdlKSA9PiBuZXcgTWVzc2FnZShtZXNzYWdlLCBzdXBlci5jcmVkZW50aWFscywgdGhpcy5ob3N0VXJsKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZWooZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0dWRlbnRJbmZvKCk6IFByb21pc2U8U3R1ZGVudEluZm8+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxTdHVkZW50SW5mbz4oYXN5bmMgKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeG1sT2JqZWN0RGF0YTogU3R1ZGVudEluZm9YTUxPYmplY3QgPSBhd2FpdCBzdXBlci5wcm9jZXNzUmVxdWVzdCh7XHJcbiAgICAgICAgICBtZXRob2ROYW1lOiAnU3R1ZGVudEluZm8nLFxyXG4gICAgICAgICAgcGFyYW1TdHI6IHsgY2hpbGRJbnRJZDogMCB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXMoe1xyXG4gICAgICAgICAgc3R1ZGVudDoge1xyXG4gICAgICAgICAgICBuYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkZvcm1hdHRlZE5hbWVbMF0sXHJcbiAgICAgICAgICAgIGxhc3ROYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uTGFzdE5hbWVHb2VzQnlbMF0sXHJcbiAgICAgICAgICAgIG5pY2tuYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uTmlja05hbWVbMF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYmlydGhEYXRlOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uQmlydGhEYXRlWzBdLFxyXG4gICAgICAgICAgdHJhY2s6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5UcmFja1swXSxcclxuICAgICAgICAgIGFkZHJlc3M6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5iclswXSxcclxuICAgICAgICAgIGNvdW5zZWxvcjoge1xyXG4gICAgICAgICAgICBuYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uQ291bnNlbG9yTmFtZVswXSxcclxuICAgICAgICAgICAgZW1haWw6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5Db3Vuc2Vsb3JFbWFpbFswXSxcclxuICAgICAgICAgICAgc3RhZmZHdTogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLkNvdW5zZWxvclN0YWZmR1VbMF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY3VycmVudFNjaG9vbDogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLkN1cnJlbnRTY2hvb2xbMF0sXHJcbiAgICAgICAgICBkZW50aXN0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5EZW50aXN0WzBdWydAX05hbWUnXVswXSxcclxuICAgICAgICAgICAgcGhvbmU6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5EZW50aXN0WzBdWydAX1Bob25lJ11bMF0sXHJcbiAgICAgICAgICAgIGV4dG46IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5EZW50aXN0WzBdWydAX0V4dG4nXVswXSxcclxuICAgICAgICAgICAgb2ZmaWNlOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uRGVudGlzdFswXVsnQF9PZmZpY2UnXVswXSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwaHlzaWNpYW46IHtcclxuICAgICAgICAgICAgbmFtZTogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLlBoeXNpY2lhblswXVsnQF9OYW1lJ11bMF0sXHJcbiAgICAgICAgICAgIHBob25lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uUGh5c2ljaWFuWzBdWydAX1Bob25lJ11bMF0sXHJcbiAgICAgICAgICAgIGV4dG46IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5QaHlzaWNpYW5bMF1bJ0BfRXh0biddWzBdLFxyXG4gICAgICAgICAgICBob3NwaXRhbDogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLlBoeXNpY2lhblswXVsnQF9Ib3NwaXRhbCddWzBdLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGVtYWlsOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uRU1haWxbMF0sXHJcbiAgICAgICAgICBlbWVyZ2VuY3lDb250YWN0czogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLkVtZXJnZW5jeUNvbnRhY3RzWzBdLkVtZXJnZW5jeUNvbnRhY3QubWFwKFxyXG4gICAgICAgICAgICAoY29udGFjdCkgPT4gKHtcclxuICAgICAgICAgICAgICBuYW1lOiBjb250YWN0WydAX05hbWUnXVswXSxcclxuICAgICAgICAgICAgICBwaG9uZToge1xyXG4gICAgICAgICAgICAgICAgaG9tZTogY29udGFjdFsnQF9Ib21lUGhvbmUnXVswXSxcclxuICAgICAgICAgICAgICAgIG1vYmlsZTogY29udGFjdFsnQF9Nb2JpbGVQaG9uZSddWzBdLFxyXG4gICAgICAgICAgICAgICAgb3RoZXI6IGNvbnRhY3RbJ0BfT3RoZXJQaG9uZSddWzBdLFxyXG4gICAgICAgICAgICAgICAgd29yazogY29udGFjdFsnQF9Xb3JrUGhvbmUnXVswXSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHJlbGF0aW9uc2hpcDogY29udGFjdFsnQF9SZWxhdGlvbnNoaXAnXVswXSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBnZW5kZXI6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uR2VuZGVyWzBdLFxyXG4gICAgICAgICAgZ3JhZGU6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uR3JhZGVbMF0sXHJcbiAgICAgICAgICBsb2NrZXJJbmZvUmVjb3JkczogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5Mb2NrZXJJbmZvUmVjb3Jkc1swXSxcclxuICAgICAgICAgIGhvbWVMYW5ndWFnZTogeG1sT2JqZWN0RGF0YS5TdHVkZW50SW5mb1swXS5BZGRyZXNzWzBdLkhvbWVMYW5ndWFnZVswXSxcclxuICAgICAgICAgIGhvbWVSb29tOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uSG9tZVJvb21bMF0sXHJcbiAgICAgICAgICBob21lUm9vbVRlYWNoZXI6IHtcclxuICAgICAgICAgICAgZW1haWw6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5Ib21lUm9vbVRjaEVNYWlsWzBdLFxyXG4gICAgICAgICAgICBuYW1lOiB4bWxPYmplY3REYXRhLlN0dWRlbnRJbmZvWzBdLkFkZHJlc3NbMF0uSG9tZVJvb21UY2hbMF0sXHJcbiAgICAgICAgICAgIHN0YWZmR3U6IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5Ib21lUm9vbVRjaFN0YWZmR1VbMF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYWRkaXRpb25hbEluZm86IHhtbE9iamVjdERhdGEuU3R1ZGVudEluZm9bMF0uQWRkcmVzc1swXS5Vc2VyRGVmaW5lZEdyb3VwQm94ZXNbMF0uVXNlckRlZmluZWRHcm91cEJveC5tYXAoXHJcbiAgICAgICAgICAgIChkZWZpbmVkQm94KSA9PiAoe1xyXG4gICAgICAgICAgICAgIGlkOiBkZWZpbmVkQm94WydAX0dyb3VwQm94SUQnXVswXSxcclxuICAgICAgICAgICAgICB0eXBlOiBkZWZpbmVkQm94WydAX0dyb3VwQm94TGFiZWwnXVswXSxcclxuICAgICAgICAgICAgICB2Y0lkOiBkZWZpbmVkQm94WydAX1ZDSUQnXVswXSxcclxuICAgICAgICAgICAgICBpdGVtczogZGVmaW5lZEJveC5Vc2VyRGVmaW5lZEl0ZW1zWzBdLlVzZXJEZWZpbmVkSXRlbS5tYXAoKGl0ZW0pID0+ICh7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudDogaXRlbVsnQF9Tb3VyY2VFbGVtZW50J11bMF0sXHJcbiAgICAgICAgICAgICAgICAgIG9iamVjdDogaXRlbVsnQF9Tb3VyY2VPYmplY3QnXVswXSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2Y0lkOiBpdGVtWydAX1ZDSUQnXVswXSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtWydAX1ZhbHVlJ11bMF0sXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBpdGVtWydAX0l0ZW1UeXBlJ11bMF0sXHJcbiAgICAgICAgICAgICAgfSkpIGFzIEFkZGl0aW9uYWxJbmZvSXRlbVtdLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgKSBhcyBBZGRpdGlvbmFsSW5mb1tdLFxyXG4gICAgICAgIH0gYXMgU3R1ZGVudEluZm8pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmVqKGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZmV0Y2hFdmVudHNXaXRoaW5JbnRlcnZhbChkYXRlOiBEYXRlKSB7XHJcbiAgICByZXR1cm4gc3VwZXIucHJvY2Vzc1JlcXVlc3Q8Q2FsZW5kYXJYTUxPYmplY3Q+KHtcclxuICAgICAgbWV0aG9kTmFtZTogJ1N0dWRlbnRDYWxlbmRhcicsXHJcbiAgICAgIHBhcmFtU3RyOiB7IGNoaWxkSW50SWQ6IDAsIFJlcXVlc3REYXRlOiBkYXRlLnRvSVNPU3RyaW5nKCkgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNhbGVuZGFyKG9wdGlvbnM6IENhbGVuZGFyT3B0aW9ucyA9IHt9KTogUHJvbWlzZTx1bmtub3duPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IHNjaG9vbFN0YXJ0RGF0ZTogRGF0ZSB8IG51bWJlcjtcclxuICAgICAgICBsZXQgc2Nob29sRW5kRGF0ZTogRGF0ZSB8IG51bWJlcjtcclxuICAgICAgICBsZXQgcmVmZXJlbmNlRXZlbnQ6IENhbGVuZGFyWE1MT2JqZWN0IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmludGVydmFsID09IG51bGwgfHwgb3B0aW9ucy5pbnRlcnZhbC5zdGFydCA9PSBudWxsIHx8IG9wdGlvbnMuaW50ZXJ2YWwuZW5kID09IG51bGwpIHtcclxuICAgICAgICAgIHJlZmVyZW5jZUV2ZW50ID0gYXdhaXQgdGhpcy5mZXRjaEV2ZW50c1dpdGhpbkludGVydmFsKG5ldyBEYXRlKCkpO1xyXG4gICAgICAgICAgc2Nob29sU3RhcnREYXRlID1cclxuICAgICAgICAgICAgb3B0aW9ucy5pbnRlcnZhbD8uc3RhcnQgPz8gbmV3IERhdGUocmVmZXJlbmNlRXZlbnQuQ2FsZW5kYXJMaXN0aW5nWzBdWydAX1NjaG9vbEJlZ0RhdGUnXVswXSk7XHJcbiAgICAgICAgICBzY2hvb2xFbmREYXRlID0gb3B0aW9ucy5pbnRlcnZhbD8uZW5kID8/IG5ldyBEYXRlKHJlZmVyZW5jZUV2ZW50LkNhbGVuZGFyTGlzdGluZ1swXVsnQF9TY2hvb2xFbmREYXRlJ11bMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzY2hvb2xTdGFydERhdGUgPSBvcHRpb25zLmludGVydmFsLnN0YXJ0O1xyXG4gICAgICAgICAgc2Nob29sRW5kRGF0ZSA9IG9wdGlvbnMuaW50ZXJ2YWwuZW5kO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbW9udGhzV2l0aGluU2Nob29sWWVhciA9IGVhY2hNb250aE9mSW50ZXJ2YWwoeyBzdGFydDogc2Nob29sU3RhcnREYXRlLCBlbmQ6IHNjaG9vbEVuZERhdGUgfSk7XHJcbiAgICAgICAgY29uc3QgYWxsRXZlbnRzV2l0aGluU2Nob29sWWVhciA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgbW9udGhzV2l0aGluU2Nob29sWWVhci5tYXAoKGRhdGUpID0+XHJcbiAgICAgICAgICAgIGlzVGhpc01vbnRoKGRhdGUpICYmIHJlZmVyZW5jZUV2ZW50ID8gUHJvbWlzZS5yZXNvbHZlKHJlZmVyZW5jZUV2ZW50KSA6IHRoaXMuZmV0Y2hFdmVudHNXaXRoaW5JbnRlcnZhbChkYXRlKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBtZW1vOiBDYWxlbmRhciB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IGFsbEV2ZW50c1dpdGhpblNjaG9vbFllYXIucmVkdWNlKChwcmV2LCBldmVudHMpID0+IHtcclxuICAgICAgICAgIGlmIChtZW1vID09IG51bGwpXHJcbiAgICAgICAgICAgIG1lbW8gPSB7XHJcbiAgICAgICAgICAgICAgLi4ucHJldixcclxuICAgICAgICAgICAgICBzY2hvb2xEYXRlOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogbmV3IERhdGUoZXZlbnRzLkNhbGVuZGFyTGlzdGluZ1swXVsnQF9TY2hvb2xCZWdEYXRlJ11bMF0pLFxyXG4gICAgICAgICAgICAgICAgZW5kOiBuZXcgRGF0ZShldmVudHMuQ2FsZW5kYXJMaXN0aW5nWzBdWydAX1NjaG9vbEVuZERhdGUnXVswXSksXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBvdXRwdXRSYW5nZToge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IHNjaG9vbFN0YXJ0RGF0ZSxcclxuICAgICAgICAgICAgICAgIGVuZDogc2Nob29sRW5kRGF0ZSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgbGV0IHJlc3QgPSB7XHJcbiAgICAgICAgICAgIC4uLm1lbW8sIC8vIFRoaXMgaXMgdG8gcHJldmVudCByZS1pbml0aWFsaXppbmcgRGF0ZSBvYmplY3RzIGluIG9yZGVyIHRvIGltcHJvdmUgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgZXZlbnRzOiBbXHJcbiAgICAgICAgICAgICAgLi4ucHJldi5ldmVudHMsXHJcbiAgICAgICAgICAgICAgLi4uKGV2ZW50cy5DYWxlbmRhckxpc3RpbmdbMF0uRXZlbnRMaXN0c1swXS5FdmVudExpc3QubWFwKChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudFsnQF9EYXlUeXBlJ11bMF0pIHtcclxuICAgICAgICAgICAgICAgICAgY2FzZSBFdmVudFR5cGUuQVNTSUdOTUVOVDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc2lnbm1lbnRFdmVudCA9IGV2ZW50IGFzIEFzc2lnbm1lbnRFdmVudFhNTE9iamVjdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGFzc2lnbm1lbnRFdmVudFsnQF9UaXRsZSddWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYWRkTGlua0RhdGE6IGFzc2lnbm1lbnRFdmVudFsnQF9BZGRMaW5rRGF0YSddWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYWd1OiBhc3NpZ25tZW50RXZlbnRbJ0BfQUdVJ11bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZShhc3NpZ25tZW50RXZlbnRbJ0BfRGF0ZSddWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRndTogYXNzaWdubWVudEV2ZW50WydAX0RHVSddWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbGluazogYXNzaWdubWVudEV2ZW50WydAX0xpbmsnXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogYXNzaWdubWVudEV2ZW50WydAX1N0YXJ0VGltZSddWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLkFTU0lHTk1FTlQsXHJcbiAgICAgICAgICAgICAgICAgICAgICB2aWV3VHlwZTogYXNzaWdubWVudEV2ZW50WydAX1ZpZXdUeXBlJ11bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBBc3NpZ25tZW50RXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgY2FzZSBFdmVudFR5cGUuSE9MSURBWToge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZXZlbnRbJ0BfVGl0bGUnXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEV2ZW50VHlwZS5IT0xJREFZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBldmVudFsnQF9TdGFydFRpbWUnXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKGV2ZW50WydAX0RhdGUnXVswXSksXHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBIb2xpZGF5RXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgY2FzZSBFdmVudFR5cGUuUkVHVUxBUjoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ3VsYXJFdmVudCA9IGV2ZW50IGFzIFJlZ3VsYXJFdmVudFhNTE9iamVjdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlZ3VsYXJFdmVudFsnQF9UaXRsZSddWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYWd1OiByZWd1bGFyRXZlbnRbJ0BfQUdVJ11bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZShyZWd1bGFyRXZlbnRbJ0BfRGF0ZSddWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZWd1bGFyRXZlbnRbJ0BfRXZ0RGVzY3JpcHRpb24nXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRndTogcmVndWxhckV2ZW50WydAX0RHVSddWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbGluazogcmVndWxhckV2ZW50WydAX0xpbmsnXVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogcmVndWxhckV2ZW50WydAX1N0YXJ0VGltZSddWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLlJFR1VMQVIsXHJcbiAgICAgICAgICAgICAgICAgICAgICB2aWV3VHlwZTogcmVndWxhckV2ZW50WydAX1ZpZXdUeXBlJ11bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBhZGRMaW5rRGF0YTogcmVndWxhckV2ZW50WydAX0FkZExpbmtEYXRhJ11bMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBSZWd1bGFyRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KSBhcyBFdmVudFtdKSxcclxuICAgICAgICAgICAgXSBhcyBFdmVudFtdLFxyXG4gICAgICAgICAgfSBhcyBDYWxlbmRhcjtcclxuXHJcbiAgICAgICAgICByZXN0ID0ge1xyXG4gICAgICAgICAgICAuLi5yZXN0LFxyXG4gICAgICAgICAgICBldmVudHM6IF8udW5pcUJ5PEV2ZW50PihyZXN0LmV2ZW50cywgKGl0ZW0pID0+IGl0ZW0udGl0bGUpLFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gcmVzdDtcclxuICAgICAgICB9LCB7fSBhcyBDYWxlbmRhcik7XHJcblxyXG4gICAgICAgIHJlcyhldmVudHMpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmVqKGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl19